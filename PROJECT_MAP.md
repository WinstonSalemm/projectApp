# PROJECT_MAP — Repo Radar v1

Краткое описание
- Этот файл — шаблон и сборщик результатов для быстрого понимания репозитория.
- Инструкция ниже содержит PROMPT, который нужно вставить в Copilot Chat в корне проекта для автоматического анализа.
- После получения ответа — вставьте результаты в соответствующие секции.

PROMPT для Copilot Chat (вставьте целиком в Copilot Chat в корне проекта)
--------------------------------------------------------------------------------
Ты — Repo-аналитик. Прочитай весь рабочий каталог и составь детальную карту проекта.
Цель: чтобы далее я мог давать тебе задачи, а ты точно указывал какие файлы/строки менять.

Игнорируй папки: node_modules, .git, .next, dist, build, bin, obj,
packages-lock, coverage, .turbo, .expo, AppData, *.min.*, *.map, *.lock.
Если проект .NET/MAUI — игнорируй bin/, obj/. Если monorepo — обработай по пакетам.

Сделай 4 шага и выведи итог в один ответ:

1) Карта директорий (сжато): корневое дерево до 2–3 уровней с краткими метками по назначению папок. Формат: маркдаун-дерево.

2) Архитектура и стэк: фреймворки, рантайм, точки входа (web/mobile/desktop), DI/роутинг, сборка, где лежат env/секции конфигов. Коротко, списком.

3) Ключевые файлы с путями и ролями:
- конфиги (next.config.mjs, vite.config.ts, tailwind.config.js, tsconfig.json, .eslintrc.*, appsettings*.json, Program.cs, Dockerfile, docker-compose.yml, prisma/schema.prisma, .github/workflows/*.yml) — 1–2 строки: что делает / когда трогать.
- точки входа UI (src/app/layout.tsx, src/app/page.tsx, App.tsx и т.д.) — 1–2 строки.
- доменные модели/сервисы/репозитории — где и что.
- API/контроллеры/роутеры — пути, основные эндпоинты.
- стили/локализация/assets.
- скрипты (package.json → scripts, scripts/, Makefile, *.ps1).
- тесты.

4) Создай итоговый PROJECT_MAP.md (в корне) с пп.1–3 и разделом "Как вносить изменения":
- как добавить новый экран/страницу (шаблон, где регистрировать маршруты/роутинг),
- как добавить новый API-эндпоинт (контроллер → роутер → тест → миграции),
- где править темы/переводы/SEO,
- где подключать env/секреты (и куда не пушить),
- как запускать Dev/Prod (точные команды, используемые в этом репо).

Если контекст не влез — делай по папкам батчами (сначала корень и src/, затем server/ и apps/* и т.д.), сохраняй и дополняй PROJECT_MAP.md.

Важно: если найдёшь мутные места (дубли, мёртвый код, конфликтующие конфиги) — пометь в разделе “Риски и долги”.
--------------------------------------------------------------------------------

Шаблон для заполнения (скопируйте ответ Copilot Chat сюда)
1. Карта директорий (сжато)
- ?/ — краткое описание
  - src/ — фронтенд / логика
    - components/ — UI-компоненты
    - pages/ или app/ — маршруты/страницы
  - server/ или api/ — бекенд/эндпоинты
  - scripts/ — утилиты и сборки
  - cypress/ или tests/ — e2e / unit
(заполните реальным деревом)

2. Архитектура и стэк
- Рантайм / язык: e.g. Node.js 18, .NET 7, Python 3.11
- Фреймворки: React + Next.js / Vite / Angular / Vue / .NET WebAPI / ASP.NET MVC
- Точки входа: src/app/page.tsx, server/index.js, Program.cs
- DI/роутинг: указать используемые библиотеки (e.g. Next Router, React Router, Fastify, Express, ASP.NET DI)
- Сборка: npm/yarn/pnpm, dotnet, gradle, docker
- env/конфиги: .env, env.local, appsettings.json, config/

3. Ключевые файлы с путями и ролями
- package.json — scripts & зависимости (когда трогать: при изменении сборки/скриптов).
- tsconfig.json — настройки TS (тронуть при ошибках типизации/пакетов).
- next.config.* или vite.config.* — сборка/alias/SSR (когда трогать: проблемы билда).
- tailwind.config.js — стили/дизайн-система (при изменении тем).
- Dockerfile / docker-compose.yml — контейнеризация (при деплое).
- src/app/layout.tsx / App.tsx — основной UI-скелет (при изменении layout/SEO).
- src/pages/api/* или server/controllers/* — API-эндпоинты (при изменении API).
- prisma/schema.prisma / migrations/ — модель БД (при изменении схемы).
- .github/workflows/*.yml — CI (когда трогать: автоматизация тестов/деплой).
- tests/ или __tests__/ — тесты (покрытие и поведение).

4. Как вносить изменения (шаблоны)
- Новый экран/страница:
  1) Создать компонент в src/pages/ или src/app/[route]/.
  2) Добавить маршрут (pages авто, app — register в layout/router).
  3) Добавить тест и скриншот (если UI e2e).
  4) Обновить навигацию/меню.

- Новый API-эндпоинт:
  1) Добавить контроллер/роут в server/api/ или src/pages/api/.
  2) Зарегистрировать роут в роутере (Express/Fastify/ASP.NET).
  3) Добавить тесты и документировать в README/Swagger.
  4) При изменении БД — добавить миграцию.

- Темы/переводы/SEO:
  - Темы: tailwind / theme-provider — править соответствующий конфиг (tailwind.config.js / theme.ts).
  - Переводы: locales/ или i18n/ — добавить ключи и переводы.
  - SEO: править meta в layout/page или в head компонентах.

- Env/секреты:
  - Локально: .env.local (НЕ коммитить),
  - CI: переменные в CI/CD (GitHub Actions secrets),
  - Примеры: .env.example

- Запуск Dev/Prod (указать точные команды для этого репо после анализа)
  - Dev: npm run dev / yarn dev / pnpm dev
  - Build: npm run build
  - Start: npm start / node dist/index.js
  - Docker: docker build -t app . && docker run ...

5. Риски и долги (плейсхолдер)
- Дубли конфигов: next.config.js + next.config.mjs — проверить.
- Неиспользуемые зависимости: список после анализа.
- Несогласованные scripts в package.json (dev/build/start конфликтуют).
- Отсутствие тестов для критичных эндпоинтов.

How to run (рекомендации)
1. Откройте Copilot Chat в корне проекта.
2. Вставьте PROMPT (выше) и запустите анализ.
3. Скопируйте полученный ответ в соответствующие секции этого файла.
4. При больших репозиториях — запускать по каталогам и объединять результаты.

Примечания
- Этот файл — шаблон. Наполните конкретикой после запуска анализа.
- Если хотите, я помогу автоматически обработать вывод Copilot Chat и вставить его сюда — вставьте вывод в ответ.

Оглавление PROJECT_MAP.md
- Краткое описание
- PROMPT для Copilot Chat
- Шаблон для заполнения
  - 1. Карта директорий (сжато)
  - 2. Архитектура и стэк
  - 3. Ключевые файлы с путями и ролями
  - 4. Как вносить изменения (шаблоны)
  - 5. Риски и долги
- How to run
- Примечания
