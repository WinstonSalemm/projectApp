# ‚ö° –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ - –°–ò–°–¢–ï–ú–ê –î–û–õ–ì–û–í

## üöÄ –®–ê–ì 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

### **–í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ PowerShell —Å–∫—Ä–∏–ø—Ç**
```powershell
cd c:\projectApp
.\apply-debt-migration.ps1
```

### **–í–∞—Ä–∏–∞–Ω—Ç –ë: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Railway**
1. –û—Ç–∫—Ä–æ–π https://railway.app
2. –ü–µ—Ä–µ–π–¥–∏: –¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç ‚Üí MySQL ‚Üí Query
3. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `add-debt-system-enhanced.sql`
4. –í—Å—Ç–∞–≤—å –∏ –Ω–∞–∂–º–∏ Execute

---

## üîß –®–ê–ì 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å API –ª–æ–∫–∞–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```powershell
cd c:\projectApp\src\ProjectApp.Api
dotnet run
```

API –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞: `http://localhost:5028`

---

## üß™ –®–ê–ì 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç (PowerShell):**
```powershell
cd c:\projectApp
.\test-debt-system.ps1
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ –¥–æ–ª–≥
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ß–∞—Å—Ç–∏—á–Ω—É—é –æ–ø–ª–∞—Ç—É
- ‚úÖ –°–ø–∏—Å–æ–∫ –¥–æ–ª–∂–Ω–∏–∫–æ–≤
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—é –ø–æ–∫—É–ø–æ–∫

---

## üåê –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ Swagger

### **–û—Ç–∫—Ä–æ–π Swagger UI:**
```
https://tranquil-upliftment-production.up.railway.app/swagger
```

–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
```
http://localhost:5028/swagger
```

### **–ü–æ–ª—É—á–∏ JWT —Ç–æ–∫–µ–Ω:**
1. –ù–∞–π–¥–∏ `/api/auth/login`
2. –ù–∞–∂–º–∏ "Try it out"
3. –í–≤–µ–¥–∏:
   ```json
   {
     "username": "admin",
     "password": "—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å"
   }
   ```
4. –°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞

### **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è:**
1. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **Authorize** –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –í–≤–µ–¥–∏: `Bearer —Ç–≤–æ–π_—Ç–æ–∫–µ–Ω`
3. –ù–∞–∂–º–∏ Authorize

---

## üìù –®–ê–ì 5: –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### **1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥–∞–∂—É –≤ –¥–æ–ª–≥**
–≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /api/sales`

```json
{
  "clientId": 1,
  "clientName": "–¢–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç",
  "paymentType": 11,
  "debtDueDate": "2025-02-18",
  "debtNotes": "–¢–µ—Å—Ç–æ–≤—ã–π –¥–æ–ª–≥",
  "items": [
    {
      "productId": 1,
      "qty": 5,
      "unitPrice": 150000
    }
  ]
}
```

### **2. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–ª–∂–Ω–∏–∫–æ–≤**
–≠–Ω–¥–ø–æ–∏–Ω—Ç: `GET /api/clients/debtors`

### **3. –û—Ç–∫—Ä—ã—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ —Å –¥–æ–ª–≥–æ–º**
–≠–Ω–¥–ø–æ–∏–Ω—Ç: `GET /api/clients/{id}/with-debt`

–ó–∞–º–µ–Ω–∏ `{id}` –Ω–∞ ID –∫–ª–∏–µ–Ω—Ç–∞

### **4. –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –¥–æ–ª–≥–∞**
–≠–Ω–¥–ø–æ–∏–Ω—Ç: `GET /api/debts/{id}`

### **5. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –¥–æ–ª–≥–µ**
–≠–Ω–¥–ø–æ–∏–Ω—Ç: `PUT /api/debts/{id}/items`

```json
{
  "items": [
    {
      "id": 1,
      "productId": 1,
      "productName": "–û–ü-1",
      "sku": "OP-1",
      "qty": 5,
      "price": 160000,
      "total": 800000
    }
  ]
}
```

### **6. –û–ø–ª–∞—Ç–∏—Ç—å –¥–æ–ª–≥ —á–∞—Å—Ç–∏—á–Ω–æ**
–≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /api/debts/{id}/pay`

```json
{
  "amount": 500000
}
```

---

## üìä –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### **–ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:**

‚úÖ **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–¥–∞–∂–∏ —Å `paymentType: 11`:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–æ–ª–≥
- –¢–æ–≤–∞—Ä—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ DebtItems
- –î–æ–ª–≥ –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Open"

‚úÖ **–°–ø–∏—Å–æ–∫ –¥–æ–ª–∂–Ω–∏–∫–æ–≤ (`/api/clients/debtors`):**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –¥–æ–ª–≥–∞–º–∏
- –°—É–º–º–∞ –¥–æ–ª–≥–∞ –∫–∞–∂–¥–æ–≥–æ
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–≥–æ–≤

‚úÖ **–ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ (`/api/clients/{id}/with-debt`):**
- –î–æ–ª–≥ —Å–≤–µ—Ä—Ö—É
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫ —Å–Ω–∏–∑—É
- –û–±—â–∞—è —Å—É–º–º–∞ –ø–æ–∫—É–ø–æ–∫

‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ (`PUT /api/debts/{id}/items`):**
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—É–º–º–∞ –¥–æ–ª–≥–∞

‚úÖ **–ß–∞—Å—Ç–∏—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞ (`POST /api/debts/{id}/pay`):**
- –°—É–º–º–∞ –¥–æ–ª–≥–∞ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
- –ü—Ä–∏ –ø–æ–ª–Ω–æ–π –æ–ø–ª–∞—Ç–µ —Å—Ç–∞—Ç—É—Å ‚Üí "Paid"

---

## üêõ –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### **1. –û—à–∏–±–∫–∞ 401 (Unauthorized)**
- –ü–æ–ª—É—á–∏ –Ω–æ–≤—ã–π JWT —Ç–æ–∫–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤–≤–µ–ª `Bearer —Ç–æ–∫–µ–Ω` –≤ Authorization

### **2. –û—à–∏–±–∫–∞ 400 "–î–ª—è –ø—Ä–æ–¥–∞–∂–∏ –≤ –¥–æ–ª–≥ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞"**
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ `clientId` —É–∫–∞–∑–∞–Ω –≤ –∑–∞–ø—Ä–æ—Å–µ
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### **3. –û—à–∏–±–∫–∞ 404 –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ ID –¥–æ–ª–≥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ ID —Ç–æ–≤–∞—Ä–∞ –≤ –¥–æ–ª–≥–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### **4. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è**
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- –ü—Ä–∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Railway Dashboard

---

## üìö –ü–û–õ–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `DEBT_SYSTEM.md`

---

## üéâ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–≥–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ UI –≤ .NET MAUI üöÄ
