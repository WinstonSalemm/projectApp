# Проблема с загрузкой данных

## Что происходит

Приложение показывает пустой список товаров или 3 моковых товара с кракозябрами, хотя в MySQL есть данные.

## Причина

API на Railway возвращает ошибку 500 Internal Server Error при попытке получить товары и категории из БД.

## Что уже сделано

1. ✅ Убран fallback на моковые данные - теперь приложение покажет реальную ошибку
2. ✅ Добавлено детальное логирование во все сервисы
3. ✅ Проверено подключение к API:
   - API работает (health check OK)
   - БД подключена (ready check OK)
   - Авторизация работает с паролем
   - В БД есть 22 товара

## Проблема на стороне API

API возвращает 500 ошибку при запросах:
- `/api/products` - получение товаров
- `/api/products/categories` - получение категорий
- `/api/stocks` - получение остатков

**Нужно проверить логи Railway** чтобы понять причину ошибки.

## Как проверить логи Railway

1. Зайдите на https://railway.app
2. Откройте проект `projectApp`
3. Перейдите в Deployments → Logs
4. Найдите ошибки с кодом 500
5. Скопируйте стектрейс ошибки

## Временное решение

Пока API не починен, можно:

1. **Использовать локальный API:**
   - Запустите API локально: `dotnet run --project src/ProjectApp.Api`
   - В настройках приложения укажите `http://localhost:5028`

2. **Использовать моковые данные:**
   - В настройках приложения выключите "Использовать API"
   - Приложение будет работать с тестовыми данными

## Авторизация

Для входа в систему используйте:
- **Логин:** admin
- **Пароль:** 140606tl

Или любой менеджер без пароля (liliya, timur, albert, alisher, rasim, valeriy, shop)

## Следующие шаги

1. Проверить логи Railway
2. Исправить ошибку на API (скорее всего проблема с кодировкой UTF-8 в MySQL)
3. Пересобрать и задеплоить API
4. Пересобрать клиентское приложение

## Тестирование API

Запустите скрипт для проверки API:
```powershell
powershell -ExecutionPolicy Bypass -File test-api-with-password.ps1
```

Этот скрипт проверит все endpoints и покажет, какие работают, а какие нет.
