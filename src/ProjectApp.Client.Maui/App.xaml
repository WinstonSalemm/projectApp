<?xml version="1.0" encoding="UTF-8" ?>
<Application xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:conv="clr-namespace:ProjectApp.Client.Maui.Converters"
             x:Class="ProjectApp.Client.Maui.App">
  <Application.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="Resources/Styles/ThemeLight.xaml" />
        <ResourceDictionary Source="Resources/Styles/ThemeDark.xaml" />
        <ResourceDictionary Source="Resources/Styles/DesignSystem.xaml" />
        <ResourceDictionary Source="Resources/Styles/Controls.xaml" />
        <ResourceDictionary Source="Resources/Styles/Components.xaml" />
      </ResourceDictionary.MergedDictionaries>

      <x:Double x:Key="RadiusSm">{StaticResource Radius.8}</x:Double>
      <x:Double x:Key="RadiusMd">{StaticResource Radius.12}</x:Double>
      <x:Double x:Key="RadiusLg">{StaticResource Radius.16}</x:Double>

      <!-- Baseline control styles (will be extended by dedicated dictionaries) -->
      <Style TargetType="ContentPage">
        <Setter Property="BackgroundColor" Value="{DynamicResource Color.Background}" />
        <Setter Property="Padding" Value="{StaticResource Page.Padding}" />
      </Style>
      <Style TargetType="NavigationPage">
        <Setter Property="BarBackgroundColor" Value="{DynamicResource Color.Primary}" />
        <Setter Property="BarTextColor" Value="{DynamicResource Color.OnPrimary}" />
      </Style>
      <Style TargetType="Label">
      <Setter Property="FontFamily" Value="{StaticResource FontFamily.Primary}" />
        <Setter Property="TextColor" Value="{DynamicResource Color.Text.Primary}" />
      </Style>
      <!-- Legacy styles mapped to new palette -->
      <Style x:Key="OutlinedButton" TargetType="Button" BasedOn="{StaticResource Button.Secondary}" />
      <Style x:Key="GhostButton" TargetType="Button" BasedOn="{StaticResource Button.Tertiary}" />
      <Style x:Key="CtaPrimary" TargetType="Button" BasedOn="{StaticResource Button.Primary}" />

      <Style TargetType="Frame">
        <Setter Property="HasShadow" Value="False" />
        <Setter Property="CornerRadius" Value="{StaticResource Radius.12}" />
        <Setter Property="BackgroundColor" Value="{DynamicResource Color.Surface}" />
      </Style>

      <Style x:Key="CardFrame" TargetType="Frame">
        <Setter Property="Padding" Value="{StaticResource Card.Padding}" />
        <Setter Property="BackgroundColor" Value="{DynamicResource Color.Surface}" />
        <Setter Property="BorderColor" Value="{DynamicResource Color.Border}" />
        <Setter Property="CornerRadius" Value="{StaticResource Radius.20}" />
        <Setter Property="HasShadow" Value="True" />
        <Setter Property="Shadow" Value="{StaticResource Shadow.Level1}" />
      </Style>
      <Style x:Key="BadgeFrame" TargetType="Frame">
        <Setter Property="Padding" Value="6,2" />
        <Setter Property="CornerRadius" Value="{StaticResource Radius.8}" />
        <Setter Property="HasShadow" Value="False" />
        <Setter Property="BackgroundColor" Value="{DynamicResource Color.Surface.Muted}" />
        <Setter Property="BorderColor" Value="{DynamicResource Color.Border}" />
      </Style>

      <!-- Collection & layout defaults -->
      <Style TargetType="ScrollView">
        <Setter Property="BackgroundColor" Value="{DynamicResource Color.Background}" />
      </Style>
      <Style TargetType="CollectionView">
        <Setter Property="BackgroundColor" Value="{DynamicResource Color.Background}" />
      </Style>

      <!-- Converters -->
      <conv:ContractStatusToColorConverter x:Key="ContractStatusToColorConverter" />
      <conv:QtyToAvailabilityColorConverter x:Key="QtyToAvailabilityColorConverter" />
      <conv:PaymentTypeToColorConverter x:Key="PaymentTypeToColorConverter" />
      <conv:PaymentTypeToRuConverter x:Key="PaymentTypeToRuConverter" />
      <conv:CurrencyConverter x:Key="CurrencyConverter" />
      <conv:ClientTypeToRuConverter x:Key="ClientTypeToRuConverter" />
      <conv:DateTimeToRuConverter x:Key="DateTimeToRuConverter" />

      <!-- Safe ASCII icon resources -->
      <FontImageSource x:Key="IconAdd" Glyph="+" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconEdit" Glyph="E" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconRefresh" Glyph="R" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconReturn" Glyph="B" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconSettings" Glyph="S" Color="{DynamicResource Color.Primary}" Size="18" />
      <!-- Shell tab icons -->
      <FontImageSource x:Key="IconSymbol.Home" Glyph="H" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconSymbol.PointOfSale" Glyph="P" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconSymbol.Inventory" Glyph="I" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconSymbol.People" Glyph="U" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconSymbol.Finance" Glyph="$" Color="{DynamicResource Color.Primary}" Size="18" />
      <FontImageSource x:Key="IconSymbol.Settings" Glyph="S" Color="{DynamicResource Color.Primary}" Size="18" />
    </ResourceDictionary>
  </Application.Resources>
</Application>
